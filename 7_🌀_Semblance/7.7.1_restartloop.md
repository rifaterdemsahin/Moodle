The output shows that you successfully connected to the MySQL database container (moodle_db) using the credentials moodle/moodle and the database moodle. This confirms that:
The database is running and accessible.
The credentials match between your docker-compose.yml and the database.
Network connectivity between containers (via moodle_network) is working, despite the -hdb flag being unnecessary in this context (since you’re already inside the moodle_db container).
However, the moodle_app container is still restarting, as shown in your previous output (Restarting (1) 5 seconds ago). Since the database connection is fine, the issue likely lies within the Moodle container itself—possibly in the installation script or its environment.
Next Steps to Resolve the Restart Loop
1. Check Moodle Container Exit Code
Since the container is restarting, let’s confirm why it’s exiting:
bash
docker inspect 28cdb78c2be8 --format='{{.State.ExitCode}}'
This will return a number (e.g., 1 for a general error). Share the result.
2. Run Moodle Interactively
The logs stop at Running Moodle install script, so let’s run it manually to catch the error:
Stop the restarting container:
bash
docker-compose stop moodle_app
Start it in interactive mode:
bash
docker-compose run --rm moodle_app bash
Inside the container, run the entrypoint script:
bash
/opt/bitnami/scripts/moodle/entrypoint.sh /opt/bitnami/scripts/moodle/run.sh
Watch for any errors after Running Moodle install script. This should give us the exact failure point.
3. Enable More Debugging
Your current docker-compose.yml includes MOODLE_DEBUG=yes, which should help. If you haven’t restarted with this yet, do so:
bash
docker-compose down -v  # Remove volumes to start fresh
docker-compose up -d
docker-compose logs -f moodle_app
Look for any additional debug output after Running Moodle install script.
4. Check File System Permissions
The restart could be due to volume permission issues. Inspect the mounted volumes:
bash
docker inspect 28cdb78c2be8 --format='{{json .Mounts}}'
Ensure the paths /bitnami/moodle and /bitnami/moodledata are writable. If you’re in a Codespaces-like environment, permissions might be restricted. You can test by removing the volumes temporarily:
yaml
# In docker-compose.yml, comment out these lines under moodle service
# volumes:
#   - moodle_data:/bitnami/moodle
#   - moodledata_data:/bitnami/moodledata
Then:
bash
docker-compose down -v
docker-compose up -d
5. Test a Different Moodle Version
The bitnami/moodle:4.3.3 image might have a bug. Try an earlier stable version like 4.2.2:
yaml
image: bitnami/moodle:4.2.2
bash
docker-compose down -v
docker-compose up -d
docker-compose logs -f
Current Hypothesis
Installation Script Failure: The script might be crashing due to a timeout, missing dependency, or environment issue not logged in the default output.
Volume Issue: Persistent data in the volumes might be causing a conflict, or permissions might be preventing writes.
Image Bug: The specific version (4.3.3) could have an issue with your setup.
What to Share Next
Please run the steps above (especially the interactive run or updated logs with MOODLE_DEBUG=yes) and share:
The exit code from docker inspect.
Any new error messages or logs after Running Moodle install script.
The result of the interactive run or version change.
With this info, we’ll pinpoint the exact cause and get Moodle running stably!

---

@rifaterdemsahin ➜ /workspaces/Moodle (main) $ docker exec -it moodle_db mysql -umoodle -pmoodle -hdb moodle
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 23
Server version: 5.7.44 MySQL Community Server (GPL)

Copyright (c) 2000, 2023, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> 

---

moodle 08:11:19.07 INFO  ==> Setting PHP post_max_size option
moodle 08:11:19.08 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:11:19.09 INFO  ==> Setting PHP output_buffering option
moodle 08:11:19.10 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:11:19.11 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:11:19.14 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:11:19.19 INFO  ==> Ensuring Moodle directories exist
moodle 08:11:19.21 INFO  ==> Trying to connect to the database server
moodle 08:11:19.25 INFO  ==> Running Moodle install script
moodle 08:12:19.57 INFO  ==> 
moodle 08:12:19.57 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:12:19.57 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:12:19.57 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:12:19.57 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:12:19.58 INFO  ==> 
moodle 08:12:19.58 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:12:19.61 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:12:19.63 INFO  ==> Configuring PHP options
moodle 08:12:19.64 INFO  ==> Setting PHP expose_php option
moodle 08:12:19.65 INFO  ==> Setting PHP max_execution_time option
moodle 08:12:19.66 INFO  ==> Setting PHP memory_limit option
moodle 08:12:19.66 INFO  ==> Setting PHP post_max_size option
moodle 08:12:19.67 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:12:19.68 INFO  ==> Setting PHP output_buffering option
moodle 08:12:19.70 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:12:19.70 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:12:19.73 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:12:19.77 INFO  ==> Ensuring Moodle directories exist
moodle 08:12:19.79 INFO  ==> Trying to connect to the database server
moodle 08:12:19.84 INFO  ==> Running Moodle install script
moodle 08:13:20.15 INFO  ==> 
moodle 08:13:20.15 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:13:20.15 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:13:20.16 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:13:20.16 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:13:20.16 INFO  ==> 
moodle 08:13:20.16 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:13:20.19 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:13:20.22 INFO  ==> Configuring PHP options
moodle 08:13:20.22 INFO  ==> Setting PHP expose_php option
moodle 08:13:20.23 INFO  ==> Setting PHP max_execution_time option
moodle 08:13:20.24 INFO  ==> Setting PHP memory_limit option
moodle 08:13:20.25 INFO  ==> Setting PHP post_max_size option
moodle 08:13:20.25 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:13:20.26 INFO  ==> Setting PHP output_buffering option
moodle 08:13:20.28 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:13:20.28 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:13:20.31 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:13:20.36 INFO  ==> Ensuring Moodle directories exist
moodle 08:13:20.38 INFO  ==> Trying to connect to the database server
moodle 08:13:20.42 INFO  ==> Running Moodle install script
moodle 08:14:20.79 INFO  ==> 
moodle 08:14:20.79 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:14:20.79 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:14:20.79 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:14:20.80 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:14:20.80 INFO  ==> 
moodle 08:14:20.80 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:14:20.83 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:14:20.85 INFO  ==> Configuring PHP options
moodle 08:14:20.86 INFO  ==> Setting PHP expose_php option
moodle 08:14:20.86 INFO  ==> Setting PHP max_execution_time option
moodle 08:14:20.87 INFO  ==> Setting PHP memory_limit option
moodle 08:14:20.88 INFO  ==> Setting PHP post_max_size option
moodle 08:14:20.89 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:14:20.89 INFO  ==> Setting PHP output_buffering option
moodle 08:14:20.91 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:14:20.92 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:14:20.96 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:14:21.01 INFO  ==> Ensuring Moodle directories exist
moodle 08:14:21.03 INFO  ==> Trying to connect to the database server
moodle 08:14:21.07 INFO  ==> Running Moodle install script
moodle 08:15:21.41 INFO  ==> 
moodle 08:15:21.42 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:15:21.42 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:15:21.42 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:15:21.42 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:15:21.42 INFO  ==> 
moodle 08:15:21.42 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:15:21.45 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:15:21.47 INFO  ==> Configuring PHP options
moodle 08:15:21.48 INFO  ==> Setting PHP expose_php option
moodle 08:15:21.49 INFO  ==> Setting PHP max_execution_time option
moodle 08:15:21.50 INFO  ==> Setting PHP memory_limit option
moodle 08:15:21.50 INFO  ==> Setting PHP post_max_size option
moodle 08:15:21.51 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:15:21.52 INFO  ==> Setting PHP output_buffering option
moodle 08:15:21.54 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:15:21.54 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:15:21.57 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:15:21.61 INFO  ==> Ensuring Moodle directories exist
moodle 08:15:21.63 INFO  ==> Trying to connect to the database server
moodle 08:15:21.69 INFO  ==> Running Moodle install script
moodle 08:16:22.03 INFO  ==> 
moodle 08:16:22.03 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:16:22.03 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:16:22.03 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:16:22.03 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:16:22.03 INFO  ==> 
moodle 08:16:22.03 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:16:22.06 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:16:22.09 INFO  ==> Configuring PHP options
moodle 08:16:22.09 INFO  ==> Setting PHP expose_php option
moodle 08:16:22.10 INFO  ==> Setting PHP max_execution_time option
moodle 08:16:22.11 INFO  ==> Setting PHP memory_limit option
moodle 08:16:22.12 INFO  ==> Setting PHP post_max_size option
moodle 08:16:22.12 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:16:22.13 INFO  ==> Setting PHP output_buffering option
moodle 08:16:22.15 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:16:22.15 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:16:22.18 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:16:22.23 INFO  ==> Ensuring Moodle directories exist
moodle 08:16:22.25 INFO  ==> Trying to connect to the database server
moodle 08:16:22.30 INFO  ==> Running Moodle install script
moodle 08:17:22.63 INFO  ==> 
moodle 08:17:22.63 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:17:22.63 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:17:22.63 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:17:22.63 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:17:22.63 INFO  ==> 
moodle 08:17:22.63 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:17:22.66 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:17:22.69 INFO  ==> Configuring PHP options
moodle 08:17:22.69 INFO  ==> Setting PHP expose_php option
moodle 08:17:22.70 INFO  ==> Setting PHP max_execution_time option
moodle 08:17:22.71 INFO  ==> Setting PHP memory_limit option
moodle 08:17:22.72 INFO  ==> Setting PHP post_max_size option
moodle 08:17:22.72 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:17:22.73 INFO  ==> Setting PHP output_buffering option
moodle 08:17:22.75 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:17:22.76 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:17:22.78 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:17:22.83 INFO  ==> Ensuring Moodle directories exist
moodle 08:17:22.85 INFO  ==> Trying to connect to the database server
moodle 08:17:22.89 INFO  ==> Running Moodle install script
moodle 08:18:23.22 INFO  ==> 
moodle 08:18:23.22 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:18:23.23 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:18:23.23 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:18:23.23 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:18:23.23 INFO  ==> 
moodle 08:18:23.23 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:18:23.26 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:18:23.28 INFO  ==> Configuring PHP options
moodle 08:18:23.29 INFO  ==> Setting PHP expose_php option
moodle 08:18:23.30 INFO  ==> Setting PHP max_execution_time option
moodle 08:18:23.31 INFO  ==> Setting PHP memory_limit option
moodle 08:18:23.31 INFO  ==> Setting PHP post_max_size option
moodle 08:18:23.32 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:18:23.33 INFO  ==> Setting PHP output_buffering option
moodle 08:18:23.35 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:18:23.35 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:18:23.38 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:18:23.42 INFO  ==> Ensuring Moodle directories exist
moodle 08:18:23.44 INFO  ==> Trying to connect to the database server
moodle 08:18:23.49 INFO  ==> Running Moodle install script
moodle 08:19:23.83 INFO  ==> 
moodle 08:19:23.83 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:19:23.83 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:19:23.83 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:19:23.83 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:19:23.83 INFO  ==> 
moodle 08:19:23.83 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:19:23.86 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:19:23.89 INFO  ==> Configuring PHP options
moodle 08:19:23.89 INFO  ==> Setting PHP expose_php option
moodle 08:19:23.90 INFO  ==> Setting PHP max_execution_time option
moodle 08:19:23.91 INFO  ==> Setting PHP memory_limit option
moodle 08:19:23.92 INFO  ==> Setting PHP post_max_size option
moodle 08:19:23.93 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:19:23.94 INFO  ==> Setting PHP output_buffering option
moodle 08:19:23.97 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:19:23.98 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:19:24.01 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:19:24.07 INFO  ==> Ensuring Moodle directories exist
moodle 08:19:24.10 INFO  ==> Trying to connect to the database server
moodle 08:19:24.14 INFO  ==> Running Moodle install script
moodle 08:20:24.49 INFO  ==> 
moodle 08:20:24.49 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:20:24.49 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:20:24.50 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:20:24.50 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:20:24.50 INFO  ==> 
moodle 08:20:24.50 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:20:24.53 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:20:24.55 INFO  ==> Configuring PHP options
moodle 08:20:24.56 INFO  ==> Setting PHP expose_php option
moodle 08:20:24.57 INFO  ==> Setting PHP max_execution_time option
moodle 08:20:24.57 INFO  ==> Setting PHP memory_limit option
moodle 08:20:24.58 INFO  ==> Setting PHP post_max_size option
moodle 08:20:24.59 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:20:24.60 INFO  ==> Setting PHP output_buffering option
moodle 08:20:24.61 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:20:24.62 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:20:24.65 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:20:24.69 INFO  ==> Ensuring Moodle directories exist
moodle 08:20:24.71 INFO  ==> Trying to connect to the database server
moodle 08:20:24.76 INFO  ==> Running Moodle install script
moodle 08:21:25.07 INFO  ==> 
moodle 08:21:25.08 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:21:25.08 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:21:25.08 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:21:25.08 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:21:25.08 INFO  ==> 
moodle 08:21:25.08 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:21:25.11 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:21:25.13 INFO  ==> Configuring PHP options
moodle 08:21:25.14 INFO  ==> Setting PHP expose_php option
moodle 08:21:25.15 INFO  ==> Setting PHP max_execution_time option
moodle 08:21:25.16 INFO  ==> Setting PHP memory_limit option
moodle 08:21:25.16 INFO  ==> Setting PHP post_max_size option
moodle 08:21:25.17 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:21:25.18 INFO  ==> Setting PHP output_buffering option
moodle 08:21:25.20 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:21:25.20 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:21:25.23 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:21:25.28 INFO  ==> Ensuring Moodle directories exist
moodle 08:21:25.30 INFO  ==> Trying to connect to the database server
moodle 08:21:25.34 INFO  ==> Running Moodle install script
moodle 08:22:25.66 INFO  ==> 
moodle 08:22:25.66 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:22:25.66 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:22:25.66 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:22:25.66 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:22:25.66 INFO  ==> 
moodle 08:22:25.66 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:22:25.69 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:22:25.72 INFO  ==> Configuring PHP options
moodle 08:22:25.72 INFO  ==> Setting PHP expose_php option
moodle 08:22:25.73 INFO  ==> Setting PHP max_execution_time option
moodle 08:22:25.74 INFO  ==> Setting PHP memory_limit option
moodle 08:22:25.74 INFO  ==> Setting PHP post_max_size option
moodle 08:22:25.75 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:22:25.76 INFO  ==> Setting PHP output_buffering option
moodle 08:22:25.78 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:22:25.78 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:22:25.81 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:22:25.86 INFO  ==> Ensuring Moodle directories exist
moodle 08:22:25.88 INFO  ==> Trying to connect to the database server
moodle 08:22:25.93 INFO  ==> Running Moodle install script
moodle 08:23:26.24 INFO  ==> 
moodle 08:23:26.24 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:23:26.24 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:23:26.24 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:23:26.24 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:23:26.25 INFO  ==> 
moodle 08:23:26.25 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:23:26.28 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:23:26.30 INFO  ==> Configuring PHP options
moodle 08:23:26.31 INFO  ==> Setting PHP expose_php option
moodle 08:23:26.31 INFO  ==> Setting PHP max_execution_time option
moodle 08:23:26.32 INFO  ==> Setting PHP memory_limit option
moodle 08:23:26.33 INFO  ==> Setting PHP post_max_size option
moodle 08:23:26.34 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:23:26.34 INFO  ==> Setting PHP output_buffering option
moodle 08:23:26.36 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:23:26.37 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:23:26.39 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:23:26.44 INFO  ==> Ensuring Moodle directories exist
moodle 08:23:26.47 INFO  ==> Trying to connect to the database server
moodle 08:23:26.51 INFO  ==> Running Moodle install script
moodle 08:24:26.85 INFO  ==> 
moodle 08:24:26.85 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:24:26.85 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:24:26.85 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:24:26.86 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:24:26.86 INFO  ==> 
moodle 08:24:26.86 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:24:26.89 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:24:26.91 INFO  ==> Configuring PHP options
moodle 08:24:26.92 INFO  ==> Setting PHP expose_php option
moodle 08:24:26.93 INFO  ==> Setting PHP max_execution_time option
moodle 08:24:26.94 INFO  ==> Setting PHP memory_limit option
moodle 08:24:26.94 INFO  ==> Setting PHP post_max_size option
moodle 08:24:26.95 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:24:26.96 INFO  ==> Setting PHP output_buffering option
moodle 08:24:26.98 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:24:26.98 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:24:27.01 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:24:27.05 INFO  ==> Ensuring Moodle directories exist
moodle 08:24:27.07 INFO  ==> Trying to connect to the database server
moodle 08:24:27.12 INFO  ==> Running Moodle install script
moodle 08:25:27.44 INFO  ==> 
moodle 08:25:27.44 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:25:27.44 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:25:27.44 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:25:27.44 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:25:27.44 INFO  ==> 
moodle 08:25:27.44 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:25:27.47 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:25:27.50 INFO  ==> Configuring PHP options
moodle 08:25:27.50 INFO  ==> Setting PHP expose_php option
moodle 08:25:27.51 INFO  ==> Setting PHP max_execution_time option
moodle 08:25:27.52 INFO  ==> Setting PHP memory_limit option
moodle 08:25:27.53 INFO  ==> Setting PHP post_max_size option
moodle 08:25:27.53 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:25:27.54 INFO  ==> Setting PHP output_buffering option
moodle 08:25:27.56 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:25:27.57 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:25:27.59 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:25:27.64 INFO  ==> Ensuring Moodle directories exist
moodle 08:25:27.66 INFO  ==> Trying to connect to the database server
moodle 08:25:27.70 INFO  ==> Running Moodle install script
moodle 08:26:28.03 INFO  ==> 
moodle 08:26:28.03 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:26:28.03 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:26:28.03 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:26:28.04 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:26:28.04 INFO  ==> 
moodle 08:26:28.04 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:26:28.07 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:26:28.09 INFO  ==> Configuring PHP options
moodle 08:26:28.10 INFO  ==> Setting PHP expose_php option
moodle 08:26:28.11 INFO  ==> Setting PHP max_execution_time option
moodle 08:26:28.11 INFO  ==> Setting PHP memory_limit option
moodle 08:26:28.12 INFO  ==> Setting PHP post_max_size option
moodle 08:26:28.13 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:26:28.14 INFO  ==> Setting PHP output_buffering option
moodle 08:26:28.15 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:26:28.16 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:26:28.20 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:26:28.25 INFO  ==> Ensuring Moodle directories exist
moodle 08:26:28.27 INFO  ==> Trying to connect to the database server
moodle 08:26:28.31 INFO  ==> Running Moodle install script
moodle 08:27:28.64 INFO  ==> 
moodle 08:27:28.64 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:27:28.64 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:27:28.64 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:27:28.64 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:27:28.65 INFO  ==> 
moodle 08:27:28.65 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:27:28.68 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:27:28.70 INFO  ==> Configuring PHP options
moodle 08:27:28.71 INFO  ==> Setting PHP expose_php option
moodle 08:27:28.71 INFO  ==> Setting PHP max_execution_time option
moodle 08:27:28.72 INFO  ==> Setting PHP memory_limit option
moodle 08:27:28.73 INFO  ==> Setting PHP post_max_size option
moodle 08:27:28.74 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:27:28.74 INFO  ==> Setting PHP output_buffering option
moodle 08:27:28.76 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:27:28.77 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:27:28.79 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:27:28.84 INFO  ==> Ensuring Moodle directories exist
moodle 08:27:28.86 INFO  ==> Trying to connect to the database server
moodle 08:27:28.91 INFO  ==> Running Moodle install script
moodle 08:28:29.23 INFO  ==> 
moodle 08:28:29.23 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:28:29.24 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:28:29.24 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:28:29.24 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:28:29.24 INFO  ==> 
moodle 08:28:29.24 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:28:29.27 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:28:29.29 INFO  ==> Configuring PHP options
moodle 08:28:29.30 INFO  ==> Setting PHP expose_php option
moodle 08:28:29.31 INFO  ==> Setting PHP max_execution_time option
moodle 08:28:29.32 INFO  ==> Setting PHP memory_limit option
moodle 08:28:29.32 INFO  ==> Setting PHP post_max_size option
moodle 08:28:29.33 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:28:29.34 INFO  ==> Setting PHP output_buffering option
moodle 08:28:29.36 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:28:29.36 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:28:29.39 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:28:29.44 INFO  ==> Ensuring Moodle directories exist
moodle 08:28:29.46 INFO  ==> Trying to connect to the database server
moodle 08:28:29.51 INFO  ==> Running Moodle install script
moodle 08:29:29.85 INFO  ==> 
moodle 08:29:29.86 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:29:29.86 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:29:29.86 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:29:29.86 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:29:29.86 INFO  ==> 
moodle 08:29:29.86 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:29:29.89 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:29:29.92 INFO  ==> Configuring PHP options
moodle 08:29:29.92 INFO  ==> Setting PHP expose_php option
moodle 08:29:29.93 INFO  ==> Setting PHP max_execution_time option
moodle 08:29:29.94 INFO  ==> Setting PHP memory_limit option
moodle 08:29:29.95 INFO  ==> Setting PHP post_max_size option
moodle 08:29:29.95 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:29:29.96 INFO  ==> Setting PHP output_buffering option
moodle 08:29:29.98 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:29:29.99 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:29:30.01 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:29:30.06 INFO  ==> Ensuring Moodle directories exist
moodle 08:29:30.08 INFO  ==> Trying to connect to the database server
moodle 08:29:30.12 INFO  ==> Running Moodle install script
moodle 08:30:30.44 INFO  ==> 
moodle 08:30:30.44 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:30:30.44 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:30:30.44 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:30:30.44 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:30:30.44 INFO  ==> 
moodle 08:30:30.44 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:30:30.47 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:30:30.50 INFO  ==> Configuring PHP options
moodle 08:30:30.50 INFO  ==> Setting PHP expose_php option
moodle 08:30:30.51 INFO  ==> Setting PHP max_execution_time option
moodle 08:30:30.52 INFO  ==> Setting PHP memory_limit option
moodle 08:30:30.53 INFO  ==> Setting PHP post_max_size option
moodle 08:30:30.53 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:30:30.54 INFO  ==> Setting PHP output_buffering option
moodle 08:30:30.56 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:30:30.56 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:30:30.59 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:30:30.64 INFO  ==> Ensuring Moodle directories exist
moodle 08:30:30.66 INFO  ==> Trying to connect to the database server
moodle 08:30:30.70 INFO  ==> Running Moodle install script
moodle 08:31:31.01 INFO  ==> 
moodle 08:31:31.01 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:31:31.01 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:31:31.02 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:31:31.02 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:31:31.02 INFO  ==> 
moodle 08:31:31.02 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:31:31.06 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:31:31.08 INFO  ==> Configuring PHP options
moodle 08:31:31.09 INFO  ==> Setting PHP expose_php option
moodle 08:31:31.09 INFO  ==> Setting PHP max_execution_time option
moodle 08:31:31.10 INFO  ==> Setting PHP memory_limit option
moodle 08:31:31.11 INFO  ==> Setting PHP post_max_size option
moodle 08:31:31.12 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:31:31.12 INFO  ==> Setting PHP output_buffering option
moodle 08:31:31.14 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:31:31.15 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:31:31.18 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:31:31.25 INFO  ==> Ensuring Moodle directories exist
moodle 08:31:31.27 INFO  ==> Trying to connect to the database server
moodle 08:31:31.32 INFO  ==> Running Moodle install script
moodle 08:32:31.65 INFO  ==> 
moodle 08:32:31.65 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:32:31.65 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:32:31.66 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:32:31.66 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:32:31.66 INFO  ==> 
moodle 08:32:31.66 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:32:31.69 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:32:31.71 INFO  ==> Configuring PHP options
moodle 08:32:31.72 INFO  ==> Setting PHP expose_php option
moodle 08:32:31.73 INFO  ==> Setting PHP max_execution_time option
moodle 08:32:31.73 INFO  ==> Setting PHP memory_limit option
moodle 08:32:31.74 INFO  ==> Setting PHP post_max_size option
moodle 08:32:31.75 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:32:31.76 INFO  ==> Setting PHP output_buffering option
moodle 08:32:31.78 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:32:31.78 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:32:31.81 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:32:31.85 INFO  ==> Ensuring Moodle directories exist
moodle 08:32:31.87 INFO  ==> Trying to connect to the database server
moodle 08:32:31.92 INFO  ==> Running Moodle install script
moodle 08:33:32.25 INFO  ==> 
moodle 08:33:32.25 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:33:32.25 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:33:32.25 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:33:32.25 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:33:32.26 INFO  ==> 
moodle 08:33:32.26 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:33:32.29 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:33:32.31 INFO  ==> Configuring PHP options
moodle 08:33:32.32 INFO  ==> Setting PHP expose_php option
moodle 08:33:32.32 INFO  ==> Setting PHP max_execution_time option
moodle 08:33:32.33 INFO  ==> Setting PHP memory_limit option
moodle 08:33:32.34 INFO  ==> Setting PHP post_max_size option
moodle 08:33:32.35 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:33:32.35 INFO  ==> Setting PHP output_buffering option
moodle 08:33:32.37 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:33:32.38 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:33:32.40 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:33:32.45 INFO  ==> Ensuring Moodle directories exist
moodle 08:33:32.47 INFO  ==> Trying to connect to the database server
moodle 08:33:32.52 INFO  ==> Running Moodle install script
moodle 08:34:32.97 INFO  ==> 
moodle 08:34:32.97 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:34:32.97 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:34:32.98 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:34:32.98 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:34:32.98 INFO  ==> 
moodle 08:34:32.98 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:34:33.02 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:34:33.06 INFO  ==> Configuring PHP options
moodle 08:34:33.07 INFO  ==> Setting PHP expose_php option
moodle 08:34:33.08 INFO  ==> Setting PHP max_execution_time option
moodle 08:34:33.10 INFO  ==> Setting PHP memory_limit option
moodle 08:34:33.12 INFO  ==> Setting PHP post_max_size option
moodle 08:34:33.13 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:34:33.15 INFO  ==> Setting PHP output_buffering option
moodle 08:34:33.19 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:34:33.20 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:34:33.26 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:34:33.35 INFO  ==> Ensuring Moodle directories exist
moodle 08:34:33.38 INFO  ==> Trying to connect to the database server
moodle 08:34:33.48 INFO  ==> Running Moodle install script
moodle 08:35:33.95 INFO  ==> 
moodle 08:35:33.95 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:35:33.95 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:35:33.95 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:35:33.95 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:35:33.96 INFO  ==> 
moodle 08:35:33.96 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:35:34.01 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:35:34.05 INFO  ==> Configuring PHP options
moodle 08:35:34.06 INFO  ==> Setting PHP expose_php option
moodle 08:35:34.07 INFO  ==> Setting PHP max_execution_time option
moodle 08:35:34.09 INFO  ==> Setting PHP memory_limit option
moodle 08:35:34.10 INFO  ==> Setting PHP post_max_size option
moodle 08:35:34.10 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:35:34.11 INFO  ==> Setting PHP output_buffering option
moodle 08:35:34.13 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:35:34.14 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:35:34.16 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:35:34.21 INFO  ==> Ensuring Moodle directories exist
moodle 08:35:34.23 INFO  ==> Trying to connect to the database server
moodle 08:35:34.27 INFO  ==> Running Moodle install script
moodle 08:36:34.62 INFO  ==> 
moodle 08:36:34.62 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:36:34.62 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:36:34.62 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:36:34.62 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:36:34.62 INFO  ==> 
moodle 08:36:34.63 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:36:34.66 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:36:34.68 INFO  ==> Configuring PHP options
moodle 08:36:34.68 INFO  ==> Setting PHP expose_php option
moodle 08:36:34.69 INFO  ==> Setting PHP max_execution_time option
moodle 08:36:34.70 INFO  ==> Setting PHP memory_limit option
moodle 08:36:34.71 INFO  ==> Setting PHP post_max_size option
moodle 08:36:34.71 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:36:34.72 INFO  ==> Setting PHP output_buffering option
moodle 08:36:34.76 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:36:34.77 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:36:34.80 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:36:34.85 INFO  ==> Ensuring Moodle directories exist
moodle 08:36:34.87 INFO  ==> Trying to connect to the database server
moodle 08:36:34.94 INFO  ==> Running Moodle install script
moodle 08:37:35.37 INFO  ==> 
moodle 08:37:35.37 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:37:35.37 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:37:35.38 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:37:35.38 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:37:35.38 INFO  ==> 
moodle 08:37:35.38 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:37:35.41 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:37:35.43 INFO  ==> Configuring PHP options
moodle 08:37:35.44 INFO  ==> Setting PHP expose_php option
moodle 08:37:35.44 INFO  ==> Setting PHP max_execution_time option
moodle 08:37:35.45 INFO  ==> Setting PHP memory_limit option
moodle 08:37:35.46 INFO  ==> Setting PHP post_max_size option
moodle 08:37:35.47 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:37:35.48 INFO  ==> Setting PHP output_buffering option
moodle 08:37:35.49 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:37:35.50 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:37:35.53 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:37:35.57 INFO  ==> Ensuring Moodle directories exist
moodle 08:37:35.59 INFO  ==> Trying to connect to the database server
moodle 08:37:35.64 INFO  ==> Running Moodle install script
moodle 08:38:35.98 INFO  ==> 
moodle 08:38:35.99 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:38:35.99 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:38:35.99 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:38:35.99 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:38:36.00 INFO  ==> 
moodle 08:38:36.00 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:38:36.06 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:38:36.08 INFO  ==> Configuring PHP options
moodle 08:38:36.09 INFO  ==> Setting PHP expose_php option
moodle 08:38:36.09 INFO  ==> Setting PHP max_execution_time option
moodle 08:38:36.10 INFO  ==> Setting PHP memory_limit option
moodle 08:38:36.11 INFO  ==> Setting PHP post_max_size option
moodle 08:38:36.12 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:38:36.13 INFO  ==> Setting PHP output_buffering option
moodle 08:38:36.14 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:38:36.15 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:38:36.18 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:38:36.24 INFO  ==> Ensuring Moodle directories exist
moodle 08:38:36.26 INFO  ==> Trying to connect to the database server
moodle 08:38:36.31 INFO  ==> Running Moodle install script
moodle 08:39:36.63 INFO  ==> 
moodle 08:39:36.63 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:39:36.63 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:39:36.63 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:39:36.63 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:39:36.63 INFO  ==> 
moodle 08:39:36.63 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:39:36.66 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:39:36.68 INFO  ==> Configuring PHP options
moodle 08:39:36.69 INFO  ==> Setting PHP expose_php option
moodle 08:39:36.70 INFO  ==> Setting PHP max_execution_time option
moodle 08:39:36.71 INFO  ==> Setting PHP memory_limit option
moodle 08:39:36.71 INFO  ==> Setting PHP post_max_size option
moodle 08:39:36.72 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:39:36.73 INFO  ==> Setting PHP output_buffering option
moodle 08:39:36.75 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:39:36.76 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:39:36.78 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:39:36.83 INFO  ==> Ensuring Moodle directories exist
moodle 08:39:36.85 INFO  ==> Trying to connect to the database server
moodle 08:39:36.90 INFO  ==> Running Moodle install script
moodle 08:40:37.23 INFO  ==> 
moodle 08:40:37.23 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:40:37.23 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:40:37.23 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:40:37.23 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:40:37.23 INFO  ==> 
moodle 08:40:37.23 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:40:37.26 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:40:37.29 INFO  ==> Configuring PHP options
moodle 08:40:37.29 INFO  ==> Setting PHP expose_php option
moodle 08:40:37.30 INFO  ==> Setting PHP max_execution_time option
moodle 08:40:37.31 INFO  ==> Setting PHP memory_limit option
moodle 08:40:37.32 INFO  ==> Setting PHP post_max_size option
moodle 08:40:37.33 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:40:37.33 INFO  ==> Setting PHP output_buffering option
moodle 08:40:37.35 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:40:37.36 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:40:37.39 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:40:37.43 INFO  ==> Ensuring Moodle directories exist
moodle 08:40:37.45 INFO  ==> Trying to connect to the database server
moodle 08:40:37.50 INFO  ==> Running Moodle install script
moodle 08:41:37.81 INFO  ==> 
moodle 08:41:37.81 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:41:37.81 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:41:37.81 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:41:37.82 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:41:37.82 INFO  ==> 
moodle 08:41:37.82 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:41:37.85 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:41:37.88 INFO  ==> Configuring PHP options
moodle 08:41:37.88 INFO  ==> Setting PHP expose_php option
moodle 08:41:37.89 INFO  ==> Setting PHP max_execution_time option
moodle 08:41:37.90 INFO  ==> Setting PHP memory_limit option
moodle 08:41:37.90 INFO  ==> Setting PHP post_max_size option
moodle 08:41:37.91 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:41:37.92 INFO  ==> Setting PHP output_buffering option
moodle 08:41:37.94 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:41:37.94 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:41:37.97 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:41:38.02 INFO  ==> Ensuring Moodle directories exist
moodle 08:41:38.04 INFO  ==> Trying to connect to the database server
moodle 08:41:38.08 INFO  ==> Running Moodle install script
moodle 08:42:38.42 INFO  ==> 
moodle 08:42:38.42 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:42:38.42 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:42:38.42 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:42:38.43 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:42:38.43 INFO  ==> 
moodle 08:42:38.43 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:42:38.46 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:42:38.48 INFO  ==> Configuring PHP options
moodle 08:42:38.49 INFO  ==> Setting PHP expose_php option
moodle 08:42:38.50 INFO  ==> Setting PHP max_execution_time option
moodle 08:42:38.50 INFO  ==> Setting PHP memory_limit option
moodle 08:42:38.51 INFO  ==> Setting PHP post_max_size option
moodle 08:42:38.52 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:42:38.53 INFO  ==> Setting PHP output_buffering option
moodle 08:42:38.55 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:42:38.55 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:42:38.58 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:42:38.62 INFO  ==> Ensuring Moodle directories exist
moodle 08:42:38.64 INFO  ==> Trying to connect to the database server
moodle 08:42:38.69 INFO  ==> Running Moodle install script
moodle 08:43:39.04 INFO  ==> 
moodle 08:43:39.04 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:43:39.04 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:43:39.04 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:43:39.04 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:43:39.05 INFO  ==> 
moodle 08:43:39.05 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:43:39.08 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:43:39.10 INFO  ==> Configuring PHP options
moodle 08:43:39.11 INFO  ==> Setting PHP expose_php option
moodle 08:43:39.11 INFO  ==> Setting PHP max_execution_time option
moodle 08:43:39.12 INFO  ==> Setting PHP memory_limit option
moodle 08:43:39.13 INFO  ==> Setting PHP post_max_size option
moodle 08:43:39.14 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:43:39.14 INFO  ==> Setting PHP output_buffering option
moodle 08:43:39.16 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:43:39.17 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:43:39.20 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:43:39.24 INFO  ==> Ensuring Moodle directories exist
moodle 08:43:39.26 INFO  ==> Trying to connect to the database server
moodle 08:43:39.31 INFO  ==> Running Moodle install script
moodle 08:44:39.63 INFO  ==> 
moodle 08:44:39.63 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:44:39.64 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:44:39.64 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:44:39.64 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:44:39.64 INFO  ==> 
moodle 08:44:39.64 INFO  ==> ** Starting Moodle setup **
realpath: /bitnami/apache/conf: No such file or directory
moodle 08:44:39.67 INFO  ==> Configuring Apache ServerTokens directive
moodle 08:44:39.69 INFO  ==> Configuring PHP options
moodle 08:44:39.70 INFO  ==> Setting PHP expose_php option
moodle 08:44:39.71 INFO  ==> Setting PHP max_execution_time option
moodle 08:44:39.72 INFO  ==> Setting PHP memory_limit option
moodle 08:44:39.72 INFO  ==> Setting PHP post_max_size option
moodle 08:44:39.73 INFO  ==> Setting PHP upload_max_filesize option
moodle 08:44:39.74 INFO  ==> Setting PHP output_buffering option
moodle 08:44:39.76 INFO  ==> Validating settings in MYSQL_CLIENT_* env vars
moodle 08:44:39.76 INFO  ==> Validating settings in POSTGRESQL_CLIENT_* env vars
moodle 08:44:39.79 WARN  ==> You set the environment variable ALLOW_EMPTY_PASSWORD=yes. For safety reasons, do not use this flag in a production environment.
moodle 08:44:39.84 INFO  ==> Ensuring Moodle directories exist
moodle 08:44:39.86 INFO  ==> Trying to connect to the database server
moodle 08:44:39.90 INFO  ==> Running Moodle install script
moodle 08:45:40.23 INFO  ==> 
moodle 08:45:40.23 INFO  ==> Welcome to the Bitnami moodle container
moodle 08:45:40.23 INFO  ==> Subscribe to project updates by watching https://github.com/bitnami/containers
moodle 08:45:40.24 INFO  ==> Submit issues and feature requests at https://github.com/bitnami/containers/issues
moodle 08:45:40.24 INFO  ==> Upgrade to Tanzu Application Catalog for production environments to access custom-configured and pre-packaged software components. Gain enhanced features, including Software Bill of Materials (SBOM), CVE scan result reports, and VEX documents. To learn more, visit https://bitnami.com/enterprise
moodle 08:45:40.24 INFO  ==> 
 *  Terminal will be reused by tasks, press any key to close it. 


---

docker inspect 28cdb78c2be8 --format='{{.State.ExitCode}}'

docker inspect e43d5c2d1a0a --format='{{.State.ExitCode}}'


@rifaterdemsahin ➜ /workspaces/Moodle (main) $ docker inspect e43d5c2d1a0a --format='{{.State.ExitCode}}'
1
@rifaterdemsahin ➜ /workspaces/Moodle (main) $ 


---


Thanks for sharing the logs, MySQL connection output, and the exit code! Let’s analyze the situation and resolve the restart loop for your moodle_app container.
Key Observations
Database Connection is Working:
The docker exec -it moodle_db mysql -umoodle -pmoodle -hdb moodle command successfully connected to the MySQL database, confirming that moodle_db is running, accessible, and the credentials (moodle/moodle) are correct.
Exit Code 1 from moodle_app:
The command docker inspect e43d5c2d1a0a --format='{{.State.ExitCode}}' returned 1, indicating a general error in the moodle_app container. This suggests the container is failing after starting, likely during or after the "Running Moodle install script" step.
Logs Show a Repeating Pattern:
The logs from moodle_app consistently stop after Running Moodle install script, followed by a restart roughly 60 seconds later. There’s no explicit error message in the logs, which means the failure is either silent or logged elsewhere (e.g., in Moodle’s internal logs or suppressed by the script).
Suspicious realpath Error:
The line realpath: /bitnami/apache/conf: No such file or directory appears in every cycle. This suggests the entrypoint script is expecting an Apache configuration directory that doesn’t exist in the container, which could be causing the install script to fail.
No Debug Output Despite MOODLE_DEBUG=yes:
Even with MOODLE_DEBUG=yes, the logs don’t provide additional details after Running Moodle install script. This implies the failure might occur before Moodle’s PHP-based debugging kicks in, likely in the Bitnami entrypoint or run scripts.
Updated Hypothesis
Apache Configuration Issue: The realpath error suggests a misconfiguration or missing file related to Apache, which Moodle relies on. Bitnami’s Moodle image uses Apache as the web server, and if its config directory is missing or misreferenced, the setup could fail silently.
Installation Script Crash: The install script might be timing out, encountering a permission issue, or failing due to an unmet dependency (e.g., Apache config) not reflected in the logs.
Volume or Environment Issue: Persistent data or environment variables might be causing the script to fail repeatedly.
Next Steps to Diagnose and Fix
Let’s systematically narrow down the cause and get Moodle running. Please follow these steps and share the results:
1. Get the Exact Container ID and Exit Code (Confirm moodle_app)
Since you ran docker inspect on e43d5c2d1a0a (exit code 1) but previously referenced 28cdb78c2be8, let’s confirm which is the moodle_app container:
bash
docker ps -a
Look for the container with the name moodle_app or image bitnami/moodle:4.3.3.
Run docker inspect <container_id> --format='{{.State.ExitCode}}' on the correct moodle_app container ID if it differs from e43d5c2d1a0a.
2. Run the Container Interactively to Catch the Error
The logs stop at Running Moodle install script, so let’s manually run it to see the failure:
Stop the current setup:
bash
docker-compose stop moodle_app
Start an interactive shell:
bash
docker-compose run --rm moodle_app bash
Inside the container, execute the entrypoint and run scripts:
bash
/opt/bitnami/scripts/moodle/entrypoint.sh /opt/bitnami/scripts/moodle/run.sh
Watch for any errors after Running Moodle install script. This should reveal what’s causing the exit code 1.
3. Investigate the realpath Apache Issue
The realpath: /bitnami/apache/conf: No such file or directory error is a clue. Inside the interactive shell (from step 2), check:
bash
ls -l /bitnami/apache/conf
If it doesn’t exist, list the /bitnami directory:
bash
ls -l /bitnami
This will tell us if the Apache config directory is missing or misplaced, which could crash the script.
4. Check Logs Inside the Container
If the interactive run doesn’t show enough, check Moodle’s internal logs:
Inside the container (from step 2):
bash
cat /bitnami/moodle/moodle.log  # If it exists
cat /bitnami/moodledata/debug.log  # Debugging output
Look for any PHP errors, database issues, or permission problems.
5. Test Without Volumes
Persistent volume data might be corrupted or have permission issues. Temporarily disable volumes:
Edit docker-compose.yml and comment out the volumes under moodle_app:
yaml
services:
  moodle_app:
    # volumes:
    #   - moodle_data:/bitnami/moodle
    #   - moodledata_data:/bitnami/moodledata
Restart fresh:
bash
docker-compose down -v
docker-compose up -d
docker-compose logs -f moodle_app
See if it progresses past Running Moodle install script.
6. Try a Different Moodle Version
If the above doesn’t resolve it, the bitnami/moodle:4.3.3 image might be buggy. Test an older version:
Update docker-compose.yml:
yaml
image: bitnami/moodle:4.2.2
Restart:
bash
docker-compose down -v
docker-compose up -d
docker-compose logs -f
What to Share Next
Please provide:
The output of docker ps -a to confirm container IDs and statuses.
The full output from the interactive run (step 2), especially any errors after Running Moodle install script.
The result of ls -l /bitnami/apache/conf and ls -l /bitnami (step 3).
Any relevant logs from step 4 or step 5 if you test without volumes.
If you try step 6, the new logs with bitnami/moodle:4.2.2.
With this info, we’ll pinpoint whether it’s an Apache config issue, script failure, volume problem, or image bug, and get your Moodle instance stable!


---

@rifaterdemsahin ➜ /workspaces/Moodle (main) $ docker ps -a
CONTAINER ID   IMAGE                  COMMAND                  CREATED          STATUS                         PORTS                 NAMES
e43d5c2d1a0a   bitnami/moodle:4.3.3   "/opt/bitnami/script…"   56 minutes ago   Restarting (1) 7 seconds ago                         moodle_app
e809f1c4d6c2   mysql:5.7              "docker-entrypoint.s…"   56 minutes ago   Up 56 minutes (healthy)        3306/tcp, 33060/tcp   moodle_db
@rifaterdemsahin ➜ /workspaces/Moodle (main) $ 

---

{
    "Id": "e43d5c2d1a0a00947591f6bc9d80693d14b57782512968ec3ef3d3bc2de2c808",
    "Created": "2025-03-15T07:56:49.33863008Z",
    "Path": "/opt/bitnami/scripts/moodle/entrypoint.sh",
    "Args": [
        "/opt/bitnami/scripts/moodle/run.sh"
    ],
    "State": {
        "Status": "restarting",
        "Running": true,
        "Paused": false,
        "Restarting": true,
        "OOMKilled": false,
        "Dead": false,
        "Pid": 0,
        "ExitCode": 1,
        "Error": "",
        "StartedAt": "2025-03-15T08:54:45.931516363Z",
        "FinishedAt": "2025-03-15T08:54:46.79186513Z"
    },
    "Image": "sha256:54c67a1a023f5eb6e6596b37dae6758d0c13af57059bdb514492df8f2d5db2f6",
    "ResolvConfPath": "/var/lib/docker/containers/e43d5c2d1a0a00947591f6bc9d80693d14b57782512968ec3ef3d3bc2de2c808/resolv.conf",
    "HostnamePath": "/var/lib/docker/containers/e43d5c2d1a0a00947591f6bc9d80693d14b57782512968ec3ef3d3bc2de2c808/hostname",
    "HostsPath": "/var/lib/docker/containers/e43d5c2d1a0a00947591f6bc9d80693d14b57782512968ec3ef3d3bc2de2c808/hosts",
    "LogPath": "/var/lib/docker/containers/e43d5c2d1a0a00947591f6bc9d80693d14b57782512968ec3ef3d3bc2de2c808/e43d5c2d1a0a00947591f6bc9d80693d14b57782512968ec3ef3d3bc2de2c808-json.log",
    "Name": "/moodle_app",
    "RestartCount": 66,
    "Driver": "overlay2",
    "Platform": "linux",
    "MountLabel": "",
    "ProcessLabel": "",
    "AppArmorProfile": "docker-default",
    "ExecIDs": null,
    "HostConfig": {
        "Binds": null,
        "ContainerIDFile": "",
        "LogConfig": {
            "Type": "json-file",
            "Config": {}
        },
        "NetworkMode": "2_docker_moodle_network",
        "PortBindings": {
            "80/tcp": [
                {
                    "HostIp": "",
                    "HostPort": "8080"
                }
            ]
        },
        "RestartPolicy": {
            "Name": "always",
            "MaximumRetryCount": 0
        },
        "AutoRemove": false,
        "VolumeDriver": "",
        "VolumesFrom": null,
        "ConsoleSize": [
            0,
            0
        ],
        "CapAdd": null,
        "CapDrop": null,
        "CgroupnsMode": "private",
        "Dns": null,
        "DnsOptions": null,
        "DnsSearch": null,
        "ExtraHosts": [],
        "GroupAdd": null,
        "IpcMode": "private",
        "Cgroup": "",
        "Links": null,
        "OomScoreAdj": 0,
        "PidMode": "",
        "Privileged": false,
        "PublishAllPorts": false,
        "ReadonlyRootfs": false,
        "SecurityOpt": null,
        "UTSMode": "",
        "UsernsMode": "",
        "ShmSize": 67108864,
        "Runtime": "runc",
        "Isolation": "",
        "CpuShares": 0,
        "Memory": 0,
        "NanoCpus": 0,
        "CgroupParent": "",
        "BlkioWeight": 0,
        "BlkioWeightDevice": null,
        "BlkioDeviceReadBps": null,
        "BlkioDeviceWriteBps": null,
        "BlkioDeviceReadIOps": null,
        "BlkioDeviceWriteIOps": null,
        "CpuPeriod": 0,
        "CpuQuota": 0,
        "CpuRealtimePeriod": 0,
        "CpuRealtimeRuntime": 0,
        "CpusetCpus": "",
        "CpusetMems": "",
        "Devices": null,
        "DeviceCgroupRules": null,
        "DeviceRequests": null,
        "MemoryReservation": 0,
        "MemorySwap": 0,
        "MemorySwappiness": null,
        "OomKillDisable": null,
        "PidsLimit": null,
        "Ulimits": null,
        "CpuCount": 0,
        "CpuPercent": 0,
        "IOMaximumIOps": 0,
        "IOMaximumBandwidth": 0,
        "Mounts": [
            {
                "Type": "volume",
                "Source": "2_docker_moodle_data",
                "Target": "/bitnami/moodle",
                "VolumeOptions": {}
            },
            {
                "Type": "volume",
                "Source": "2_docker_moodledata_data",
                "Target": "/bitnami/moodledata",
                "VolumeOptions": {}
            }
        ],
        "MaskedPaths": [
            "/proc/asound",
            "/proc/acpi",
            "/proc/kcore",
            "/proc/keys",
            "/proc/latency_stats",
            "/proc/timer_list",
            "/proc/timer_stats",
            "/proc/sched_debug",
            "/proc/scsi",
            "/sys/firmware",
            "/sys/devices/virtual/powercap"
        ],
        "ReadonlyPaths": [
            "/proc/bus",
            "/proc/fs",
            "/proc/irq",
            "/proc/sys",
            "/proc/sysrq-trigger"
        ]
    },
    "GraphDriver": {
        "Data": {
            "LowerDir": "/var/lib/docker/overlay2/694d3a7c79372c1a0e53caced51389c2778db56819c6568d5b11b254103de6df-init/diff:/var/lib/docker/overlay2/ef33ccd07151461cb4bcc8331e36a87786fbdff0a9393d3417b133dadf1b4a97/diff",
            "MergedDir": "/var/lib/docker/overlay2/694d3a7c79372c1a0e53caced51389c2778db56819c6568d5b11b254103de6df/merged",
            "UpperDir": "/var/lib/docker/overlay2/694d3a7c79372c1a0e53caced51389c2778db56819c6568d5b11b254103de6df/diff",
            "WorkDir": "/var/lib/docker/overlay2/694d3a7c79372c1a0e53caced51389c2778db56819c6568d5b11b254103de6df/work"
        },
        "Name": "overlay2"
    },
    "Mounts": [
        {
            "Type": "volume",
            "Name": "2_docker_moodle_data",
            "Source": "/var/lib/docker/volumes/2_docker_moodle_data/_data",
            "Destination": "/bitnami/moodle",
            "Driver": "local",
            "Mode": "z",
            "RW": true,
            "Propagation": ""
        },
        {
            "Type": "volume",
            "Name": "2_docker_moodledata_data",
            "Source": "/var/lib/docker/volumes/2_docker_moodledata_data/_data",
            "Destination": "/bitnami/moodledata",
            "Driver": "local",
            "Mode": "z",
            "RW": true,
            "Propagation": ""
        }
    ],
    "Config": {
        "Hostname": "e43d5c2d1a0a",
        "Domainname": "",
        "User": "",
        "AttachStdin": false,
        "AttachStdout": true,
        "AttachStderr": true,
        "ExposedPorts": {
            "80/tcp": {},
            "8080/tcp": {},
            "8443/tcp": {}
        },
        "Tty": false,
        "OpenStdin": false,
        "StdinOnce": false,
        "Env": [
            "MOODLE_INSTALL_TIMEOUT=1800",
            "MOODLE_SKIP_BOOTSTRAP=no",
            "MOODLE_HOST=localhost",
            "MOODLE_DATABASE_HOST=db",
            "PHP_POST_MAX_SIZE=100M",
            "MOODLE_DEBUG=yes",
            "PHP_UPLOAD_MAX_FILESIZE=100M",
            "MOODLE_DATABASE_PASSWORD=moodle",
            "MOODLE_DATABASE_PORT_NUMBER=3306",
            "MOODLE_DATABASE_NAME=moodle",
            "PHP_MAX_EXECUTION_TIME=600",
            "MOODLE_DATABASE_USER=moodle",
            "PHP_MEMORY_LIMIT=512M",
            "MOODLE_USERNAME=admin",
            "MOODLE_PASSWORD=admin123",
            "ALLOW_EMPTY_PASSWORD=yes",
            "MOODLE_EMAIL=admin@example.com",
            "MOODLE_SITE_NAME=Moodle LMS",
            "MOODLE_DATABASE_TYPE=mysqli",
            "PATH=/opt/bitnami/common/bin:/opt/bitnami/php/bin:/opt/bitnami/php/sbin:/opt/bitnami/apache/bin:/opt/bitnami/postgresql/bin:/opt/bitnami/mysql/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
            "OS_ARCH=amd64",
            "OS_FLAVOUR=debian-12",
            "OS_NAME=linux",
            "APACHE_HTTPS_PORT_NUMBER=",
            "APACHE_HTTP_PORT_NUMBER=",
            "APP_VERSION=4.3.3",
            "BITNAMI_APP_NAME=moodle",
            "LANG=en_US.UTF-8",
            "LANGUAGE=en_US:en"
        ],
        "Cmd": [
            "/opt/bitnami/scripts/moodle/run.sh"
        ],
        "Image": "bitnami/moodle:4.3.3",
        "Volumes": null,
        "WorkingDir": "",
        "Entrypoint": [
            "/opt/bitnami/scripts/moodle/entrypoint.sh"
        ],
        "OnBuild": null,
        "Labels": {
            "com.docker.compose.config-hash": "9db12a9106f185330fd7dc3e33888cb07cb06dcffdbec4b6f5b5e6381dfbfb8f",
            "com.docker.compose.container-number": "1",
            "com.docker.compose.depends_on": "db:service_healthy:false",
            "com.docker.compose.image": "sha256:54c67a1a023f5eb6e6596b37dae6758d0c13af57059bdb514492df8f2d5db2f6",
            "com.docker.compose.oneoff": "False",
            "com.docker.compose.project": "2_docker",
            "com.docker.compose.project.config_files": "/workspaces/Moodle/6_🔣_Symbols/2_docker/docker-compose.yml",
            "com.docker.compose.project.working_dir": "/workspaces/Moodle/6_🔣_Symbols/2_docker",
            "com.docker.compose.service": "moodle",
            "com.docker.compose.version": "2.31.0",
            "com.vmware.cp.artifact.flavor": "sha256:c50c90cfd9d12b445b011e6ad529f1ad3daea45c26d20b00732fae3cd71f6a83",
            "org.opencontainers.image.base.name": "docker.io/bitnami/minideb:bookworm",
            "org.opencontainers.image.created": "2024-04-08T20:41:57Z",
            "org.opencontainers.image.description": "Application packaged by VMware, Inc",
            "org.opencontainers.image.licenses": "Apache-2.0",
            "org.opencontainers.image.ref.name": "4.3.3-debian-12-r8",
            "org.opencontainers.image.title": "moodle",
            "org.opencontainers.image.vendor": "VMware, Inc.",
            "org.opencontainers.image.version": "4.3.3"
        }
    },
    "NetworkSettings": {
        "Bridge": "",
        "SandboxID": "",
        "SandboxKey": "",
        "Ports": {},
        "HairpinMode": false,
        "LinkLocalIPv6Address": "",
        "LinkLocalIPv6PrefixLen": 0,
        "SecondaryIPAddresses": null,
        "SecondaryIPv6Addresses": null,
        "EndpointID": "",
        "Gateway": "",
        "GlobalIPv6Address": "",
        "GlobalIPv6PrefixLen": 0,
        "IPAddress": "",
        "IPPrefixLen": 0,
        "IPv6Gateway": "",
        "MacAddress": "",
        "Networks": {
            "2_docker_moodle_network": {
                "IPAMConfig": null,
                "Links": null,
                "Aliases": [
                    "moodle_app",
                    "moodle"
                ],
                "MacAddress": "",
                "DriverOpts": null,
                "NetworkID": "59492d992da71d15ce984019259539e9cf17cdae9cfda5228964df5a7f4066b2",
                "EndpointID": "",
                "Gateway": "",
                "IPAddress": "",
                "IPPrefixLen": 0,
                "IPv6Gateway": "",
                "GlobalIPv6Address": "",
                "GlobalIPv6PrefixLen": 0,
                "DNSNames": [
                    "moodle_app",
                    "moodle",
                    "e43d5c2d1a0a"
                ]
            }
        }
    }
}